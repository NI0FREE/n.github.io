<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Summer</title>
</head>
<style>
    .nf{
    
        font-family: "TT Commons",-apple-system,system-ui,Helvetica Neue,Roboto,sans-serif;
    
    }
    .nf2 {
        font-family: "TT Commons",-apple-system,system-ui,Helvetica Neue,Roboto;
    }
    .noselect {
        -moz-user-select: none;
        -webkit-user-select: none;
        -webkit-touch-callout: none;   
        -ms-user-select: none;
        -o-user-select: none;
        user-select: none;
        -khtml-user-select: none;
    }
    .toCn:active{
        background-position-y:25px;  
    }
    .stripe-1 {
      
      color: #ffffff;
      background: repeating-linear-gradient(
      45deg,
      #2c3e50,
      #2c3e50 10px,
      #34495f 10px,
      #34495f 20px
      
    );
    
    -webkit-transition: background 2s ease-out;  
        -moz-transition: background 2s ease-out;  
        -o-transition: background 2s ease-out;  
        transition: background 2s ease-out; 
        background-size: 84px 28px;
    }
    .vkInpt{
    
        margin: 15px;
        width: calc(100% - 30px);
        display: block;
        box-sizing: border-box;
        height: 44px;
        font-size: 16px;
        color: aliceblue;
        position: relative;
        z-index: 2;
        border-radius: 5px;
        border-style: none;
        background-color: #2c3e50;
        outline: aliceblue;
        padding: 10px;
        margin-top: 5px;
        border: 1px solid #223344;
    
    }:focus {
         border: 1px solid #005d79; /* Параметры рамки */
       }
    .txt1{
        margin-left: 15px;
        color: aliceblue;
        margin-top: 15px;
    }
    section.examples {
      border: 3px dashed #333;
      padding: 20px;
      position: relative;
    }
    section.examples:after {
      content: "";
      clear: both;
      display: table;
    }
    /* Important part */
    .box {
        position: relative;
        width: 30.333333%;
        margin: 3.2222222% 0% 0% 2.2222222%;
        float: left;
        font-size: 12px;
       
    }
    .box:before {
      content: "";
      display: block;
      margin-top: 100%; /* initial ratio of 1:1*/
    }
    
    /* Other ratios */
    .ratio2_1:before {
      margin-top: 50%;
    }
    .ratio1_2:before {
      margin-top: 200%;
    }
    .ratio4_3:before {
      margin-top: 75%;
    }
    .ratio16_9:before {
      margin-top: 56.25%;
    }
    .content {
      /* Positioning */
      position: absolute;
      top: 0;
      left: 0;
      bottom: 0;
      right: 0;
      color: #fff;
      padding: 0px;
      /* Styling */
      background: #e6eaee;
     
      text-align: center;
      vertical-align: center;
      text-transform: uppercase;
    }
    .content span {
      font-weight: bold;
      font-size: 10px;
      display: block;
    }
    
    
    
        </style>
        <style>
       .inApp{     
        width: 100%;
        height: calc(100vh - 56px );
        overflow: auto;
        overflow-x: hidden;
        }
       body {
          overflow: hidden;
          margin: 0;
          background:#e6eaee;
          position: relative;
      }
        .vk-header{height: 55px; z-index:999;width:100%;background-color:#f1f4f8;text-align:left;top:0px;overflow:hidden;position:-webkit-sticky;position:sticky;}
      .vk-header h5{
        color:white;margin: 17px;font-size: 16px; opacity: 1;
        font-family: "TT Commons",-apple-system,system-ui,Helvetica Neue,Roboto,sans-serif;
        font-weight: 500;
        color: rgb(7, 7, 7);
        float: left;
        margin-inline-end: 7px;}
    
        </style>
<body>

    <div class="vk-header" id="HEAD">
        <h5 id="vkHeaderText" >Твоя статистика..</h5>
        <div id="addin" style="width: 26px;color: #2e6cab;margin-top: calc((55px / 2) - 25px / 2);margin-left: 0px;float: left;"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" id="add_outline_28"><g fill="none" fill-rule="evenodd"><path d="M0 0h28v28H0z"></path><path d="M14 4a1 1 0 011 1v8h8a1 1 0 010 2h-8v8a1 1 0 01-2 0v-8H5a1 1 0 010-2h8V5a1 1 0 011-1z" fill="currentColor" fill-rule="nonzero"></path></g></svg></div>
    </div>
    <div class="inApp" id="menu" style="display: '';">

      <div id="11">
        <div class="box ratio1_1" id="nope" style="width: 95.5%;height: 25px;">
           <div class="content" style="border-radius: 0px;/* background: radial-gradient(#55ddff00, #222b2f); */">
               <span style="width: 100%;height: 74%;">
                   <table style="width: 100%;/* height: 100%; */height: -26px;">
                       <tbody>
                           <tr> 
                               <td style="vertical-align:middle;text-align:center;">
                                   <h1 class="nf vk-info-border" style="
       font-size: 16px;
       color: #008cff;
       margin-block-start: -0.33em;
       text-align: center;
   ">Отжимания</h1>
                               </td>
                           </tr>
                       </tbody>
                   </table>
               </span>
           </div>
       </div>
       
       
       <canvas id="grafic" style="width: calc(100% - 1px);height: 200px;margin-top: 0px;margin-left: -3px;" width="754" height="400"></canvas></div>
    </div>

    <script>
      
    makeGRAF(
    10,       //stroks count
    30,      //stolbs count
    1,       //one step mnozitel
    8,//text size
    ""       //stolbs name
    )
    //Functions Block
    function makeGRAF(strok,stolbs,stepMn,textSize,nameS){
    function makeCounter(){
        gRctx.beginPath();
        gRctx.lineWidth = lineWidth; // bottom line drawing
        gRctx.strokeStyle = "rgb(0, 140, 255)"
        gRctx.moveTo((marginWidth + lineWidth), grafHeight - (lineWidth + marginWidth)); 
        gRctx.lineTo(grafWidth, grafHeight - (lineWidth + marginWidth)); 
        gRctx.stroke();
        gRctx.beginPath();
        gRctx.lineWidth = lineWidth; // left line drawing
        gRctx.moveTo((marginWidth + lineWidth), grafHeight - (lineWidth + marginWidth)); 
        gRctx.lineTo((marginWidth + lineWidth), 0); 
        gRctx.stroke();
    }

    function drawXline(x,pos,of,yy){
        yy =  Math.round(yy*window.devicePixelRatio)
        var ingrafH = grafHeight-marginWidth
        var startx = (marginWidth + lineWidth);
        var lineY = Math.round((ingrafH/of)*pos);
        var yPos = (ingrafH - Math.round( (lineY-(lineWidth)+Math.round(1*window.devicePixelRatio))));
        yPos = yPos + yy;
        if(yPos%2!=0){yPos = yPos - 1;}
        if(yPos<0){ }
        gRctx.beginPath();
        if(pos){
        gRctx.moveTo((startx), yPos); 
        gRctx.lineTo(grafWidth, yPos); 
        
        }
        gRctx.stroke();
        var magrinTopText =  Math.round(3*window.devicePixelRatio)
        if(!(pos-of)){ magrinTopText =  Math.round(9*window.devicePixelRatio)}
        if(!(pos)){ magrinTopText =  Math.round(-1*window.devicePixelRatio)}
        if(pos>9){ startx = startx -  Math.round(4*window.devicePixelRatio)}
        gRctx.fillStyle = "rgb(0, 140, 255)";
        gRctx.font = Math.round(textSize*window.devicePixelRatio)+"px TTCommons,OpenSans,sans-serif";
        x = x * 10 ;
        gRctx.fillText(x+"x", startx - Math.round(16*window.devicePixelRatio), yPos+ magrinTopText);
      }

      function drawYline(x,pos,of,yy){
        var ingrafW = grafWidth-marginWidth; 
        var YPOS = (grafHeight - marginWidth)+Math.round(14*window.devicePixelRatio);
        var lineX = Math.round((ingrafW/of)*pos)+Math.round(8*window.devicePixelRatio);
        var xPos = (lineX);
        if(xPos%2!=0){xPos = xPos - 1;}
        if(!pos){xPos = xPos + Math.round(5*window.devicePixelRatio);}
        
        var magrinRightText =  Math.round(3*window.devicePixelRatio)
        gRctx.fillStyle = "rgb(0, 140, 255)";
        gRctx.font = Math.round(textSize*window.devicePixelRatio)+"px TTCommons,OpenSans,sans-serif";
        gRctx.fillText(x+nameS, xPos, YPOS);
      }

      function rgDraw(yPoss,mnoz){
        ReGRctx.strokeStyle =  "rgb(0, 140, 255)";
        yPoss = yPoss + mnoz;
        let y = grafHeight - yPoss;
        ReGRctx.moveTo(spx, spy); 
        spx = spx + (grafWidth/100);
        ReGRctx.lineTo(spx, y);
        ReGRctx.stroke(); 
        spy = y;
        gRctx.drawImage(ReTarget, 0+marginWidth, 0-marginWidth, grafWidth, grafHeight);
      }

      function drawStr(num){
        for(var i = 0; i < num+1;i++){
            console.log(i)
            drawXline(i,i,num,0)
          
        }
      }
      function drawStolb(num){
        for(var i = 0; i < num+1;i++){
            console.log(i)
          
            drawYline(i*stepMn,i,num)
        }
      }
     var mn = 1;
      var spx = -10;
      var spy = 999;
      ////////
      var target = document.getElementById("grafic");
      //true pixels calc
      var grafWidth = Math.round(target.clientWidth*window.devicePixelRatio);
      var grafHeight = Math.round(target.clientHeight*window.devicePixelRatio);
      //linegraf
        var div = document.createElement('div');
        div.className = "none";
        div.innerHTML = '<canvas id="grafdraw" width="'+grafWidth+'" height="'+grafHeight+'" style="width: calc(100% - 20px);height: 290px;"></canvas>';
        document.body.append(div);
        var ReTarget = document.getElementById("grafdraw");
        var ReGRctx = ReTarget.getContext('2d');
        ReTarget.style.width = target.clientWidth
        ReTarget.style.height = target.clientHeight
        ReTarget.remove();
      //img fix
      target.width = grafWidth;
      target.height = grafHeight;  
      //draw lines
      var lineWidth = Math.round(2*window.devicePixelRatio);
      var marginWidth = Math.round(20*window.devicePixelRatio);
      var gRctx = target.getContext('2d');
      lineWidth = Math.round(2*window.devicePixelRatio);
      gRctx.lineWidth = lineWidth;
      gRctx.fillStyle = '#e6eaee';
      gRctx.fillRect(0,0,target.width, target.height);
      makeCounter();
      drawStr(strok);
      drawStolb(stolbs)
    }
    </script>

</body>
</html>
